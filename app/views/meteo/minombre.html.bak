<!DOCTYPE html>
<html manifest="offline.manifest">
  <head>
    <meta content="text/html; charset=windows-1252" http-equiv="content-type">
    <link rel="stylesheet" type="text/css" href="css/estilo.css">
    <title>Nombre</title>
    <script language="JavaScript">
      	/*function saveData()
      	{
        	var fname = document.getElementById("local").value;
        	localStorage.fname = fname;  
      	}*/
      	
    	function compruebaEmail ()
      {
        var fname = document.getElementById("local").value;
        localStorage.fname = fname;      
      
      	//Expresiones regulares
      	// (?:[A-Za-z]{2}|com|es|org|net|edu|gov|mil|biz|info|mobi|name|aero|asia|jobs|museum)
        var campo = document.getElementById("correo").value;
        var em = /^[A-Za-z0-9._%+-]+@[A-Za-z0-9.-]+\.([a-zA-Z]{2,4})+$/;
        if(!em.test(campo))
        {
          alert("Formato de correo no válido");
	  document.getElementById("correo").value="";
          return;
        }
        return;
	  	}
	  	
	  	/*function compruebaEmail (campo)
      	{
      		if (campo == "") 
        	{
          		alert("Formato de correo no válido");
          		return;
        	}

        	var ubicacion;
        	var arroba = false;
        	var punto = false; //Punto del dominio
        	var puntoprevio = false; //Punto antes de @
        	var caracteres = "abcdefghijklmnopqrstuvwxyzñ1234567890 ABCDEFGHIJKLMNOPQRSTUVWXYZÑáéíóúÁÉÍÓÚ@._-";
        	
        	for (var i=0; i < campo.length; i++) 
        	{            
          		ubicacion = campo.substring(i, i + 1);  
          		
          		if (caracteres.indexOf(ubicacion) != -1) //Si existe el caracter en caracteres
          		{                
            		if (ubicacion == "@")
            		{
                
              			if(arroba == false && punto == false)//Si no ha habido un @ y un . antes, es correcto
                			arroba = true;
              			else
              			{
                			alert("Formato de correo no válido");
                			return;
             			} 
            		}
            		if (ubicacion == ".")
            		{
              			if( puntoprevio == false && arroba == true)
                			punto = true;
              			else if (puntoprevio == true && arroba == false)
              			{
                			alert("Formato de correo no válido");
                			return;
              			}
              			else if( puntoprevio == false && arroba == false)
                			puntoprevio = true;
              			else if (puntoprevio == true && arroba == true)
               				punto = true;
            		}    
          		} 
          		else 
          		{
            		alert("Formato de correo no válido, no se acepta el caracter '" + ubicacion + "'.")
            		return;
          		}
        	}
        	if (arroba == false || punto == false)//Si no hay ni @ ni . es incorrecto
        	{
         		alert("Formato de correo no válido");
          		return;
        	}   
      	}*/
	</script>
  </head>
  <body>
    <div id="contenedor">
      <header id="titulo"> <strong>Estación Meteorológica
          Politécnico</strong> </header>
      <div id="formularionombre">
        <fieldset> <legend>Local Storage</legend>Nombre:<input id="local"><br>
          Correo electrónico:<input id="correo" type="text"><br>
        </fieldset>
        <button onclick="compruebaEmail();">Guardar</button> </div>
      <div id="volver"> <a href="index.html" target="_self"> Volver a la
          página principal </a> </div>
      <footer id="pie"> <strong>Universidad de Alcalá</strong> </footer>
    </div>
  </body>
</html>
